\hypertarget{write__file_8h}{}\doxysection{write\+\_\+file.\+h File Reference}
\label{write__file_8h}\index{write\_file.h@{write\_file.h}}


Module to write to a file using system calls.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{write__file_8h_a68c8c9f10d273008d7b09afdc7ff592a}{write\+\_\+file}} (const char $\ast$, const int, const int, const int, const int)
\begin{DoxyCompactList}\small\item\em Writes to a regular file from {\ttfamily stdin} using the {\ttfamily write()} system call. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Module to write to a file using system calls. 

\begin{DoxyAuthor}{Author}
Sudipto Ghosh 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{write__file_8h_a68c8c9f10d273008d7b09afdc7ff592a}\label{write__file_8h_a68c8c9f10d273008d7b09afdc7ff592a}} 
\index{write\_file.h@{write\_file.h}!write\_file@{write\_file}}
\index{write\_file@{write\_file}!write\_file.h@{write\_file.h}}
\doxysubsubsection{\texorpdfstring{write\_file()}{write\_file()}}
{\footnotesize\ttfamily int write\+\_\+file (\begin{DoxyParamCaption}\item[{const char $\ast$}]{path,  }\item[{const int}]{offset,  }\item[{const int}]{n\+Bytes,  }\item[{const int}]{append\+\_\+flag,  }\item[{const int}]{force\+\_\+flag }\end{DoxyParamCaption})}



Writes to a regular file from {\ttfamily stdin} using the {\ttfamily write()} system call. 

If used with the append\+\_\+flag set, it appends to the file instead of overwriting it. The offset and n\+Bytes can be used to write a specified number of bytes to a specific location in the file.

It uses {\ttfamily getline()} to read ther user input from {\ttfamily stdin} and writes to the file using {\ttfamily write()} system call. The user has to enter {\ttfamily \+:w} to stop writing to the file and close its file descriptor.

This function is invoked by the {\ttfamily write} command.

In case the file already exists, the user is prompted for confirmation and needs to pass the {\ttfamily -\/f} flag to force this operation. It either truncates the file or creates the file with the default permissions of {\ttfamily 0644}.


\begin{DoxyParams}{Parameters}
{\em path} & the absolute or relative path to the file to be written \\
\hline
{\em offset} & the offset from the beginning of the file to start writing \\
\hline
{\em n\+Bytes} & the number of bytes to write to the file, -\/1 to read the entire file \\
\hline
{\em append\+\_\+flag} & flag to append to the file instead of overwriting it \\
\hline
{\em force\+\_\+flag} & flag to force truncate first if the file exists \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on failure 
\end{DoxyReturn}
